playbook:
  created_date: "20240215"
  # name: kserve-serverless-simple-sanity-test-on-existing-cluster
  support: "true"
  description: >
    This is a playbook for kserve end to end test. It installs required operators(serverless/ossm) then install ODH the latest version operator though stable branch. After kserve is ready, it will deploy minio pod and deploy caikit-tgis runtime and verify it is working or not.

    (note) at the moment, downloading the runtime take too long so sometimes it returns fail because of long downloading time.
    
    Operator version:
    - ODH 2.9.0
    - Authorino 0.10.0
    - Serverless 1.32
    - OSSM 2.5.0
  steps:
   - unit:
       name: install-authorino-stable-operator          
       input_env:
         OPERATOR_VERSION: "v0.10.0"
         INSTALL_APPROVAL: Manual
   - unit:
       name: install-odh-stable-operator      
       input_env:
         CHANNEL: "fast"
         OPERATOR_VERSION: "v2.9.0"
         INSTALL_APPROVAL: Manual
   - unit:
       name: install-serverless-stable-operator         
       input_env:
         OPERATOR_VERSION: "v1.32.0"
         INSTALL_APPROVAL: Manual
   - unit:
       name: install-ossm-stable-operator    
       input_env:
         OPERATOR_VERSION: "v2.5.0"
         INSTALL_APPROVAL: Manual              
   - role:
      name: opendatahub-create-dsc
   - unit:
       name: test-kserve-caikit-tgis-rest       
    
